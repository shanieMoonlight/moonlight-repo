<div class="theme-selector">
  <div class="theme-header">
    <h2>Theme Generator</h2>
  </div>

  <div class="theme-content">
    <form [formGroup]="_themeForm">
      <div class="form-container">

        <div class="color-inputs-grid">
          <!-- Primary color -->
          <mat-form-field appearance="outline">
            <mat-label>Primary Color</mat-label>
            <app-color-input formControlName="primary" />
            <mat-hint>Choose a primary theme color</mat-hint>
          </mat-form-field>

          <!-- Secondary color -->
          <mat-form-field appearance="outline">
            <mat-label>Secondary Color</mat-label>
            <app-color-input formControlName="secondary" />
            <mat-hint>Choose a secondary theme color</mat-hint>
          </mat-form-field>

          <!-- Tertiary color -->
          <mat-form-field appearance="outline">
            <mat-label>Tertiary Color</mat-label>
            <app-color-input formControlName="tertiary" />
            <mat-hint>Choose a tertiary theme color (leave it blank to use defaults)</mat-hint>
          </mat-form-field>

          <!-- Error color -->
          <mat-form-field appearance="outline">
            <mat-label>Error Color</mat-label>
            <app-color-input formControlName="error" />
            <mat-hint>Choose an error theme color (leave it blank to use defaults)</mat-hint>
          </mat-form-field>
        </div>

        <!-- Dark mode toggle -->
        <mat-slide-toggle formControlName="darkMode">Dark Mode</mat-slide-toggle>

        <div class="button-row">
          <button mat-raised-button [disabled]="!_themeForm.valid" type="button" (click)="applyTheme()">
            <mat-icon>palette</mat-icon>
            Apply Theme
          </button>
          
          <button mat-button class="secondary btn-export-scss"
            [class.show]="!!_currentTheme()" 
            type="button" 
            (click)="openScssDialog()">
            <mat-icon>code</mat-icon>
            Export SCSS
          </button>
        </div>
      </div>
    </form>

    <!-- Preset themes -->
    @if (_presetThemes().length > 0) {
      <mat-divider />
      <section class="preset-section">
        <h3 class="mat-h3">Preset Themes</h3>
        <div class="preset-grid">
          @for (item of _presetThemes(); track item.value) {
            <button
              mat-raised-button
              (click)="applyPreset(item.value)"
              [style.background-color]="item.primaryColor"
              [style.color]="'white'"
              class="preset-button">
              {{ item.label | titlecase }}
            </button>
          }
        </div>
      </section>
    }

    <!-- @if (_exportedScss(); as exportedScss) {
      <ml-scss-display [scssContent]="exportedScss" />
    } -->
  </div>
</div>




