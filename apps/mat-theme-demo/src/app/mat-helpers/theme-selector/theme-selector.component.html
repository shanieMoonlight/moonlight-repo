<mat-card class="theme-selector">
  
  <mat-card-header>
    <mat-card-title>Theme Generator</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="themeForm">
      <div class="form-container">

  <div class="color-inputs-grid">
        <!-- Primary color -->
        <mat-form-field appearance="outline">
          <mat-label>Primary Color</mat-label>
          <app-color-input formControlName="primary"/>
          <mat-hint>Choose a primary theme color</mat-hint>
        </mat-form-field>

        <!-- Secondary color -->
        <mat-form-field appearance="outline">
          <mat-label>Secondary Color</mat-label>
          <app-color-input formControlName="secondary"/>
          <mat-hint>Choose a secondary theme color</mat-hint>
        </mat-form-field>

        <!-- Tertiary color -->
        <mat-form-field appearance="outline">
          <mat-label>Tertiary Color</mat-label>
          <app-color-input formControlName="tertiary"/>
          <mat-hint>Choose a tertiary theme color</mat-hint>
        </mat-form-field>

        
        <!-- Error color -->
        <mat-form-field appearance="outline">
          <mat-label>Error Color</mat-label>
          <app-color-input formControlName="error"/>
          <mat-hint>Choose an error theme color</mat-hint>
        </mat-form-field>
        
      </div>

        <!-- Dark mode toggle -->
        <mat-slide-toggle formControlName="darkMode">Dark Mode</mat-slide-toggle>
        
        <div class="button-row">
          <button mat-raised-button             
            [disabled]="!themeForm.valid"
            type="button" 
            (click)="applyTheme()">
            <mat-icon>palette</mat-icon>
            Apply Theme
          </button>
          <button mat-button      
            [disabled]="!themeForm.valid" 
            color="accent" 
            type="button" 
            (click)="exportTheme()">
            <mat-icon>code</mat-icon>
            Export SCSS
          </button>
        </div>
      </div>
    </form>

    
    <!-- Preset themes -->
     @if(_presetThemes().length > 0) {
      <mat-divider/>
      <section class="preset-section">
        <h3 class="mat-h3">Preset Themes</h3>
        <div class="preset-grid">
          @for (item of _presetThemes(); track item.name) {
            <button mat-raised-button 
                    (click)="applyPreset(item.name)"
                    [style.background-color]="item.theme.primary"
                    [style.color]="'white'"
                    class="preset-button">
              {{ item.name | titlecase }}
            </button>
          }
        </div>
      </section>
    }


    @if (exportedScss) {
      <mat-divider/>
      <section class="scss-output">
        <h3 class="mat-h3">Generated SCSS</h3>
        <mat-card appearance="outlined">
          <pre>{{ exportedScss }}</pre>
        </mat-card>
      </section>
    }

  </mat-card-content>
</mat-card>


    
    
    <!-- ==============Applied Theme Display================== -->
    
    <div class="applied-theme-display">
      <mat-divider/>
      <h3 class="mat-h2">Current Theme</h3>
      <ml-theme-showcase-mat/>
      <mat-divider/>
    </div>
    
    <!-- ==================================================== -->